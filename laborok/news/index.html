
<!doctype html>
<html lang="hu" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Ekler Péter, Gazdi László, Kövesdán Gábor, Pásztor Dániel, Pomázi Krisztián">
      
      
      
        <link rel="prev" href="../snake/">
      
      
        <link rel="next" href="../wear/">
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.14">
    
    
      
        <title>Labor 2 - News - BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../extra-material-theme.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aut" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#labor-2-news" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Élőfej">
    <a href="../.." title="BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok" class="md-header__button md-logo" aria-label="BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok" data-md-component="logo">
      
  <img src="../../logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Labor 2 - News
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="aut" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Váltás sötét témára"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Váltás sötét témára" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent=""  aria-label="Váltás világos témára"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Váltás világos témára" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Keresés">
        
        <button type="reset" class="md-search__icon md-icon" title="Törlés" aria-label="Törlés" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Keresés inicializálása
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/viaubxav080/laborok" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    viaubxav080/laborok
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Lapok" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Tudnivalók
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../snake/" class="md-tabs__link md-tabs__link--active">
        Laborok
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../hf/" class="md-tabs__link">
        Házi feladat
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigáció" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok" class="md-nav__button md-logo" aria-label="BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok" data-md-component="logo">
      
  <img src="../../logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUBXAV080 - Haladó Android fejlesztés laborfeladatok
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/viaubxav080/laborok" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    viaubxav080/laborok
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Tudnivalók
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Tudnivalók
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Tárgy ismertető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/GitHub/" class="md-nav__link">
        Feladatok beadása (GitHub)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/GitHub-Actions/" class="md-nav__link">
        GitHub Actions ismertető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/GitHub-credentials/" class="md-nav__link">
        Egyetemi laborokban: GitHub belépés
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tudnivalok/github/contributing/" class="md-nav__link">
        Hozzájárulás az anyaghoz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Laborok
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Laborok
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../snake/" class="md-nav__link">
        Labor 1 - Snake Game
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Labor 2 - News
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Labor 2 - News
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#elokeszuletek" class="md-nav__link">
    Előkészületek
  </a>
  
    <nav class="md-nav" aria-label="Előkészületek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-repository-letrehozasa-es-letoltese" class="md-nav__link">
    Git repository létrehozása és letöltése
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projekt-megnyitasa" class="md-nav__link">
    Projekt megnyitása
  </a>
  
    <nav class="md-nav" aria-label="Projekt megnyitása">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elso-feladat-az-alkalmazas-attekintese-a-backend-inditasa" class="md-nav__link">
    Első feladat: az alkalmazás áttekintése, a backend indítása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masodik-feladat-openapi-alapu-kodgeneralas" class="md-nav__link">
    Második feladat: OpenAPI alapú kódgenerálás
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#harmadik-feladat-kodminoseg-javitasa" class="md-nav__link">
    Harmadik feladat: Kódminőség javítása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negyedik-feladat-offline-mukodes" class="md-nav__link">
    Negyedik feladat: Offline működés
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otodik-feladat-savszelesseg-optimalizacio" class="md-nav__link">
    Ötödik feladat: Sávszélesség optimalizáció
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wear/" class="md-nav__link">
        Labor 3 - Maps & Wear
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../travel/" class="md-nav__link">
        Labor 4 - Travel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai/" class="md-nav__link">
        Labor 5 - AI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Házi feladat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Házi feladat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hf/" class="md-nav__link">
        Házi feladat információk
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#elokeszuletek" class="md-nav__link">
    Előkészületek
  </a>
  
    <nav class="md-nav" aria-label="Előkészületek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-repository-letrehozasa-es-letoltese" class="md-nav__link">
    Git repository létrehozása és letöltése
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projekt-megnyitasa" class="md-nav__link">
    Projekt megnyitása
  </a>
  
    <nav class="md-nav" aria-label="Projekt megnyitása">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elso-feladat-az-alkalmazas-attekintese-a-backend-inditasa" class="md-nav__link">
    Első feladat: az alkalmazás áttekintése, a backend indítása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masodik-feladat-openapi-alapu-kodgeneralas" class="md-nav__link">
    Második feladat: OpenAPI alapú kódgenerálás
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#harmadik-feladat-kodminoseg-javitasa" class="md-nav__link">
    Harmadik feladat: Kódminőség javítása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negyedik-feladat-offline-mukodes" class="md-nav__link">
    Negyedik feladat: Offline működés
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otodik-feladat-savszelesseg-optimalizacio" class="md-nav__link">
    Ötödik feladat: Sávszélesség optimalizáció
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="labor-2-news">Labor 2 - News<a class="headerlink" href="#labor-2-news" title="Permanent link">&para;</a></h1>
<p>A második laborban egy közösségi hírportált készítünk az architekturális kérdésekre koncentrálva. A hírportál egy
kiadott backenddel kommunikál. A backendhez bárki szabadon beküldhet rövid híreket, amelyeket az alkalmazás megjelenít.
Fontos, hogy az alkalmazást az architekturára vonatkozó best practice-ek szerint készítsük el, illetve hogy az
alkalmazás képes legyen offline működésre is. Az alkalmazás kódminősége az architekturális szempontokon túl is
fontos, ezért ktlint plugint is engedélyezni fogunk, illetve konfigurálunk tesztlefedettségi riportokat is.</p>
<p>A feladat során az alábbi technológiákkal fogunk találkozni:</p>
<ul>
<li>Modern App Architecture</li>
<li>ViewModel</li>
<li>Dependency Injection</li>
<li>OpenAPI</li>
<li>Ktlint</li>
<li>Room</li>
</ul>
<p>Az alkalmazásban mindössze két lényeges felület lesz. A főképernyőn a legutóbbi hírek láthatóak beküldésük
szerint csökkenő sorrendben. Minden hírhez megjelenik a címe, szövege, a beküldő neve és a beküldés ideje.
A képernyő rövid időközönként automatikusan frissül. A képernyőn levő floating action buttonra kattintva pedig
egy másik képernyő jelenik meg, ahol újabb hírt küldhetünk be.</p>
<p align="center">
<a class="glightbox" href="./assets/news_main.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="./assets/news_main.png" width="320"></a>
<a class="glightbox" href="./assets/news_create.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="./assets/news_create.png" width="320"></a>
</p>

<h2 id="elokeszuletek">Előkészületek<a class="headerlink" href="#elokeszuletek" title="Permanent link">&para;</a></h2>
<p>A feladatok megoldása során ne felejtsd el követni a <a href="../../tudnivalok/github/GitHub">feladat beadása folyamatát</a>.</p>
<h3 id="git-repository-letrehozasa-es-letoltese">Git repository létrehozása és letöltése<a class="headerlink" href="#git-repository-letrehozasa-es-letoltese" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Moodle-ben keresd meg a laborhoz tartozó meghívó URL-jét és annak segítségével hozd létre a saját repository-dat.</p>
</li>
<li>
<p>Várd meg, míg elkészül a repository, majd checkout-old ki.</p>
<div class="admonition tip">
<p>Egyetemi laborokban, ha a checkout során nem kér a rendszer felhasználónevet és jelszót, és nem sikerül a checkout, akkor valószínűleg a gépen korábban megjegyzett felhasználónévvel próbálkozott a rendszer. Először töröld ki a mentett belépési adatokat (lásd <a href="../../tudnivalok/github/GitHub-credentials/">itt</a>), és próbáld újra.</p>
</div>
</li>
<li>
<p>Hozz létre egy új ágat <code>megoldas</code> néven, és ezen az ágon dolgozz.</p>
</li>
<li>
<p>A <code>neptun.txt</code> fájlba írd bele a Neptun kódodat. A fájlban semmi más ne szerepeljen, csak egyetlen sorban a Neptun kód 6 karaktere.</p>
</li>
</ol>
<h2 id="projekt-megnyitasa">Projekt megnyitása<a class="headerlink" href="#projekt-megnyitasa" title="Permanent link">&para;</a></h2>
<p>Az alkalmazás váza már adott a <code>News</code> könyvtárban. Nyissuk meg a könyvtárat az Android Studióval.</p>
<h3 id="elso-feladat-az-alkalmazas-attekintese-a-backend-inditasa">Első feladat: az alkalmazás áttekintése, a backend indítása<a class="headerlink" href="#elso-feladat-az-alkalmazas-attekintese-a-backend-inditasa" title="Permanent link">&para;</a></h3>
<p>Tekintsük át az alkalmazás kódját! Az alkalmazás eleve a Modern App Architecture elvek szerint készült, de még hiányoznak bizonyos
funkciói, például nem távolról kéri el a híreket, hanem beégetett listát tartalmaz. Ahhoz, hogy a tényleges hálózati
kommunikációt megvalósítsuk, először el kell indítanunk a backendet. A backend a feladat repository-jában, a <code>news-backend</code>
könyvtárban található, és többféleképpen indítható. Ha Docker nélkül indítjuk, akkor JDK 17 vagy újabb szükséges hozzá.
A backend egy gradle projekt, és gradle wrappert is tartalmaz, így a könyvtárban parancssorral könnyen indítható.
Windowson:</p>
<p><code>.\gradlew.bat bootRun</code></p>
<p>Linuxon és Macen:</p>
<p><code>./gradlew bootRun</code></p>
<p>Vagy ha ismerős számunkra a Docker, akkor a projekt gyökerében elhelyezett <code>Dockerfile</code> segítségével készíthetünk egy
image-et, amit futtatva elindul a backend. Ha így indítod, ügyelj rá, hogy a 8080-as belső portot mappeld a hosztgép
8080-as portjára!</p>
<p>Végezetül egy harmadik lehetőség, hogy ha ismerős számunkra a Java (Kotlin) alapú backendfejlesztés, akkor a projektet
egy fejlesztőkörnyezetben (IntelliJ, Eclipse, VS Code) megnyitva is futtathatjuk a projektet.</p>
<p>A backend mindenképp a 8080-as porton indul, és generálódik hozzá egy OpenAPI leírás is, valamint elindul a Swagger UI
grafikus megjelenítő, ahol a végpontokat egy áttekinthető grafikus felületen is megnézheted. Ezt itt éred el:
<a href="http://localhost:8080/swagger-ui/index.html">http://localhost:8080/swagger-ui/index.html</a></p>
<p>A szabványos OpenAPI leírás végpontja pedig: <a href="http://localhost:8080/v3/api-docs">http://localhost:8080/v3/api-docs</a></p>
<p>Vizsgáljuk meg az OpenAPI leírást! A backendben két végpont van, egyik a hírek listázására szolgál, és itt opcionálisan
megadható egy idő is, hogy mely időponttól szeretnénk listázni az új híreket. A másik végpont új hír felvitelére szolgál.
A Swagger UI-ban ki is próbálatod a végpontokat.</p>
<p>Vigyél fel egy hírt, amelynek Te vagy a szerzője, majd listázd a híreket!</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (1 pont)</p>
<p>Készíts képernyőképet (f1.png) róla, hogy fut a backend, és visszaadta a hírek listáját, benne az általad felvett hírrel!</p>
</div>
<p>Fontos: a backend csak a futásának ideje alatt őrzi meg a felvitt híreket, ha újraindítod, akkor a korábban elmentett
hírek elvesznek.</p>
<h3 id="masodik-feladat-openapi-alapu-kodgeneralas">Második feladat: OpenAPI alapú kódgenerálás<a class="headerlink" href="#masodik-feladat-openapi-alapu-kodgeneralas" title="Permanent link">&para;</a></h3>
<p>Az első lépés abba az irányba, hogy képesek legyünk a backenddel kommunikálni az, hogy elkészítjük a klienskódot a
backend meghívásához. Ezt megtehetjük bármelyik népszerű könyvtár segítségével (pl. Retrofit), de most ki fogjuk
használni, hogy a backendhez elérhető egy OpenAPI specifikáció.</p>
<p>Először töltsük le backend által generált OpenAPI leírást. Ennek elhelyezésére nincs konvencionálisan elfogadott könyvtár,
most készítsünk neki egy <code>src/main/openapi</code> könyvtárat! Viszont mivel ez nem konvencionálisan használt könyvtár, ezért
az Android Studióban át kell váltanunk <code>Android</code> nézetről <code>Project files</code> nézetre, hogy lássuk a valós könyvtárakat.
Hozzunk létre itt egy fájlt <code>api.json</code> néven, és tegyük be ebbe az API-leírást! Fontos, hogy a hosztgépünket az Android
emulátorból a <code>10.0.2.2</code> IP-címen érhetjük el, ezért módosítsuk az API-leírás <code>servers</code> szekcióját:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;servers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://10.0.2.2:8080&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Generated server url&quot;</span>
<span class="p">}</span>
<span class="p">],</span>
</code></pre></div>
<p>Mivel az alkalmazásunk Internetet is fog használni, vegyük fel a Manifest-fájlba a megfelelő engedélyt:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.INTERNET&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</code></pre></div>
<p>A következő lépés, hogy az OpenAPI plugint fel kell vennünk a projektbe. A projektszintű <code>build.gradle.kts</code> fájlba
vegyük fel először, de itt még ne alkalmazzuk:</p>
<div class="highlight"><pre><span></span><code><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.openapi.generator&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;7.8.0&quot;</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="kc">false</span>
</code></pre></div>
<p>Majd a modulszintű <code>build.gradle.kts</code> fájlban alkalmazzuk is:</p>
<div class="highlight"><pre><span></span><code><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.openapi.generator&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Majd szintén ebbe a fájlba vegyük fel a generátor konfigurációját is:</p>
<div class="highlight"><pre><span></span><code><span class="n">openApiGenerate</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">generatorName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;kotlin&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">inputSpec</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;</span><span class="si">${</span><span class="n">projectDir</span><span class="p">.</span><span class="na">path</span><span class="si">}</span><span class="s">/src/main/openapi/api.json&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">outputDir</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;</span><span class="si">${</span><span class="n">layout</span><span class="p">.</span><span class="na">buildDirectory</span><span class="p">.</span><span class="na">asFile</span><span class="p">.</span><span class="na">orNull</span><span class="si">}</span><span class="s">/generated/openapi&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">apiPackage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;hu.bme.aut.news.api&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">modelPackage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;hu.bme.aut.news.model&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">additionalProperties</span><span class="p">.</span><span class="na">set</span><span class="p">(</span>
<span class="w">        </span><span class="n">mapOf</span><span class="p">(</span>
<span class="w">            </span><span class="n">Pair</span><span class="p">(</span><span class="s">&quot;serializationLibrary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;kotlinx_serialization&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="n">Pair</span><span class="p">(</span><span class="s">&quot;library&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;jvm-retrofit2&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="n">Pair</span><span class="p">(</span><span class="s">&quot;useCoroutines&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="n">typeMappings</span><span class="p">.</span><span class="na">set</span><span class="p">(</span>
<span class="w">        </span><span class="n">mapOf</span><span class="p">(</span>
<span class="w">            </span><span class="n">Pair</span><span class="p">(</span><span class="s">&quot;string+date-time&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LocalDateTime&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Látható a fenti konfigurációból, hogy az API-leírás útvonalát, a kimenet könyvtárát és package-neveit állítjuk be,
valamint néhány egyéb paraméterrel azt adjuk meg, hogy a generált kód milyen könyvtárakat használjon. Végül az OpenAPI
típusok Java-típusra leképzésének konfigurálása történik. Alapértelmezetten az OpenAPI szerinti dátumot és időt
jelölő sztringek <code>OffsetDateTime</code> típusra képeződnének le, de ezzel körülményesebb lenne dolgoznunk.</p>
<p>Ezzel már a megfelelő taszkot hívva generálni tudjuk a klienskódot, viszont mivel az alkalmazásunk kézzel írt kódja a
generált kódra fog épülni, ezért fontos, hogy a buildelés során a kódgenerálás is mindenképp lefusson. Ehhez az alábbi
függőséget kell konfigurálnunk a taszkok közt, ezt még az <code>android</code> szekción kívülre tegyük:</p>
<div class="highlight"><pre><span></span><code><span class="n">tasks</span><span class="p">.</span><span class="na">withType</span><span class="o">&lt;</span><span class="n">KotlinCompile</span><span class="o">&gt;</span><span class="p">().</span><span class="na">configureEach</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">dependsOn</span><span class="p">(</span><span class="s">&quot;openApiGenerate&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Még arra is szükségünk van, hogy az <code>src/main/java</code> könyvtárban levő kézzel írt forráskód függőségként megtalálja a
generált kódot. Ehhez az <code>android</code> blokkba még vegyük fel az alábbit:</p>
<div class="highlight"><pre><span></span><code><span class="n">android</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">kotlin</span><span class="p">.</span><span class="na">sourceSets</span><span class="o">[</span><span class="s">&quot;main&quot;</span><span class="o">]</span><span class="p">.</span><span class="na">kotlin</span><span class="p">.</span><span class="na">srcDir</span><span class="p">(</span><span class="s">&quot;</span><span class="si">${</span><span class="n">layout</span><span class="p">.</span><span class="na">buildDirectory</span><span class="p">.</span><span class="na">asFile</span><span class="p">.</span><span class="na">orNull</span><span class="si">}</span><span class="s">/generated/openapi/src/main/kotlin&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Futtassuk most le a buildet! Nem fog teljes mértékben lefutni, de a generálás megtörténik. A generált kódok az Android
nézetben a projekt struktúrában meg is jelennek a <code>kotlin</code> mappa alatt. Nézzük meg a generáláshoz megadott könyvtárat,
és vizsgáljuk meg a generált kódot! A fordítási hiba oka, hogy a generált kódnak is vannak függőségei, konkrétan a fenti
konfigurációt megnézve láthatjuk, hogy a <em>Retrofit 2</em> és a <em>Kotlin serialization</em> könyvtárakat konfiguráltuk be, hogy a
generált kód ezekre épüljön. Ezért vegyük fel a modulszintű <code>build.gradle.kts</code> fájlunkba ezeket a függőségeket és
néhány ezekhez kapcsolódót, amelyeket a generált kód szintén használ:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Networking</span>
<span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.squareup.okhttp3:logging-interceptor:4.12.0&quot;</span><span class="p">)</span>
<span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.squareup.retrofit2:retrofit:2.11.0&quot;</span><span class="p">)</span>
<span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.squareup.retrofit2:converter-scalars:2.11.0&quot;</span><span class="p">)</span>
<span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.squareup.retrofit2:converter-kotlinx-serialization:2.11.0&quot;</span><span class="p">)</span>
<span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.7.3&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Viszont a Kotlin serialization használatához egy gradle pluginra is szükségünk van, ezt előbb a projektszintű
<code>build.gradle.kts</code> fájlba vesszük fel:</p>
<div class="highlight"><pre><span></span><code><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.jetbrains.kotlin.plugin.serialization&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;2.0.20&quot;</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="kc">false</span>
</code></pre></div>
<p>Majd a modulszintűbe:</p>
<div class="highlight"><pre><span></span><code><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.jetbrains.kotlin.plugin.serialization&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Így a buildnek már sikeresnek kell lennie. Most pedig integrálnunk kell ezt a kódot az alkalmazásunkba. Ehhez két fő
lépést fogunk elvégezni:</p>
<ul>
<li>Készítünk egy <code>NewsNetworkDataSource</code> komponenst, amelynek feladata, hogy elfedje az adatforrásunk implementációs
  részleteit a hívója elől, és a hívó felé már ne közvetítsen backend-specifikus, Retrofit-specifikus stb.
  részleteket. Ezért ebben a komponensben a generált adatmodellt, amelybe a backend válasza mappelődik, át fogjuk
  konvertálni a <code>NewsEntity</code> típusra. Másrészt, a <code>DataSource</code> komponensek konvencionálisan részei a Modern App
  Architecture-nek, ezért ez az újabb absztrakció végső soron átláthatóbbá teszi az alkalmazásunkat.</li>
<li>Ezen kívül módosítanunk szükséges a <code>NewsRepository</code> komponenst, hogy immár ezt az adatforrást használja.</li>
</ul>
<p>Most a <code>data.datsource</code> package-ben létrehozzuk az adatforrást:</p>
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.datasource</span>

<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.entities.NewsEntity</span>
<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.news.api.NewsControllerApi</span>
<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.news.model.NewsEntry</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.coroutines.delay</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.coroutines.flow.Flow</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.coroutines.flow.flow</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.datetime.toKotlinLocalDateTime</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org.openapitools.client.infrastructure.ApiClient</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">NewsRemoteDataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">refreshIntervalMs</span><span class="p">:</span><span class="w"> </span><span class="kt">Long</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5000</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">newsClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ApiClient</span><span class="p">().</span><span class="na">createService</span><span class="p">(</span><span class="n">NewsControllerApi</span><span class="o">::</span><span class="n">class</span><span class="p">.</span><span class="na">java</span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">latestNews</span><span class="p">:</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">NewsEntity</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">latestNews</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newsClient</span><span class="p">.</span><span class="na">getAll</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">orEmpty</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nb">it</span><span class="p">.</span><span class="na">toNewsEntity</span><span class="p">()</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="n">emit</span><span class="p">(</span><span class="n">latestNews</span><span class="p">)</span>
<span class="w">            </span><span class="n">delay</span><span class="p">(</span><span class="n">refreshIntervalMs</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">fun</span><span class="w"> </span><span class="n">NewsEntry</span><span class="p">.</span><span class="nf">toNewsEntity</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NewsEntity</span><span class="p">(</span>
<span class="w">    </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="o">!!</span><span class="p">,</span>
<span class="w">    </span><span class="n">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">author</span><span class="o">!!</span><span class="p">,</span>
<span class="w">    </span><span class="n">createdAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createdAt</span><span class="o">?.</span><span class="na">toKotlinLocalDateTime</span><span class="p">()</span><span class="o">!!</span><span class="p">,</span>
<span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">body</span><span class="o">!!</span>
<span class="p">)</span>
</code></pre></div>
<p>Most módosítjuk a <code>NewsRepositoryImpl</code> osztályt. Ebben a lépésben csak a lekérdezést implementáljuk, ezért egyelőre
a hír beküldése működésképtelen marad:</p>
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.datasource</span>

<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.entities.NewsEntity</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlinx.coroutines.flow.Flow</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">NewsRepositoryImpl</span><span class="p">(</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">newsRemoteDataSource</span><span class="p">:</span><span class="w"> </span><span class="n">NewsRemoteDataSource</span>
<span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NewsRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">getAllNews</span><span class="p">():</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">NewsEntity</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newsRemoteDataSource</span><span class="p">.</span><span class="na">latestNews</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">suspend</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">createNews</span><span class="p">(</span><span class="n">newsItem</span><span class="p">:</span><span class="w"> </span><span class="n">NewsEntity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Végül a fentiek működéséhez a <code>RepositoryModule</code> frissítése is szükséges:</p>
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.di</span>

<span class="k">import</span><span class="w"> </span><span class="nn">dagger.Module</span>
<span class="k">import</span><span class="w"> </span><span class="nn">dagger.Provides</span>
<span class="k">import</span><span class="w"> </span><span class="nn">dagger.hilt.InstallIn</span>
<span class="k">import</span><span class="w"> </span><span class="nn">dagger.hilt.components.SingletonComponent</span>
<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.datasource.NewsRemoteDataSource</span>
<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.datasource.NewsRepository</span>
<span class="k">import</span><span class="w"> </span><span class="nn">hu.bme.aut.android.news.data.datasource.NewsRepositoryImpl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">javax.inject.Singleton</span>

<span class="nd">@Module</span>
<span class="nd">@InstallIn</span><span class="p">(</span><span class="n">SingletonComponent</span><span class="o">::</span><span class="n">class</span><span class="p">)</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RepositoryModule</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Provides</span>
<span class="w">    </span><span class="nd">@Singleton</span>
<span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">provideNewsRepository</span><span class="p">(</span><span class="n">newsRemoteDataSource</span><span class="p">:</span><span class="w"> </span><span class="n">NewsRemoteDataSource</span><span class="p">):</span><span class="w"> </span><span class="n">NewsRepository</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">NewsRepositoryImpl</span><span class="p">(</span><span class="n">newsRemoteDataSource</span><span class="p">)</span>

<span class="w">    </span><span class="nd">@Provides</span>
<span class="w">    </span><span class="nd">@Singleton</span>
<span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">provideNewsRemoteDataSource</span><span class="p">():</span><span class="w"> </span><span class="n">NewsRemoteDataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NewsRemoteDataSource</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>Ha most elindítjuk az alkalmazást, amiatt kapunk hibaüzenetet, mert a backenddel SSL nélküli HTTP kommunikációval
akarunk kommunikálni. Alapból ez - biztonsági indokokból - tilos, viszont egyszerű módon nem tudunk hiteles SSL
tanúsítványt szerezni, ráadásul a hosztgépünknek nincs is feltétlen doménneve. Ezért a Manifestben az <code>application</code>
elemen elhelyezve az alábbi attribútumot, kikapcsoljuk ezt a védelmet:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;application</span>
<span class="w">    </span><span class="na">android:usesCleartextTraffic=</span><span class="s">&quot;true&quot;</span>
<span class="w">    </span><span class="err">...</span>
</code></pre></div>
<p>Így már működnie kell a hírek letöltésének. Most a fentiek alapján valósítsd meg önállóan a hírek beküldését!</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (1 pont)</p>
<p>Készíts képernyőképet (f2.png) a kapcsolódó kódrészletről, benne kommentként a Neptun-kódoddal, mellette a futó
alkalmazással, ahol látszik egy általad felvitt hír.</p>
</div>
<h3 id="harmadik-feladat-kodminoseg-javitasa">Harmadik feladat: Kódminőség javítása<a class="headerlink" href="#harmadik-feladat-kodminoseg-javitasa" title="Permanent link">&para;</a></h3>
<p>Ebben a feladatban most felvesszük a projektbe a <code>ktlint</code> plugint, hogy a kódolási konvenciók betartásával egységes
stílust, jobb kódminőséget érjünk el.</p>
<p>Ehhez először vegyük fel a projektszintű <code>build.gradle.kts</code> fájlunkba a plugint, de itt még ne alkalmazzuk:</p>
<div class="highlight"><pre><span></span><code><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.jlleitschuh.gradle.ktlint&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;12.1.1&quot;</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="kc">false</span>
</code></pre></div>
<p>Majd alkalmazzuk a modulszintű <code>build.gradle.kts</code> fájlban:</p>
<div class="highlight"><pre><span></span><code><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.jlleitschuh.gradle.ktlint&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Szintén ebbe a fájlba vegyük fel a <code>ktlint</code> alapvető konfigurációs beállításait:</p>
<div class="highlight"><pre><span></span><code><span class="n">ktlint</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">android</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">    </span><span class="n">ignoreFailures</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">    </span><span class="n">reporters</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">reporter</span><span class="p">(</span><span class="n">ReporterType</span><span class="p">.</span><span class="na">PLAIN</span><span class="p">)</span>
<span class="w">        </span><span class="n">reporter</span><span class="p">(</span><span class="n">ReporterType</span><span class="p">.</span><span class="na">HTML</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Most szinkronizáljuk a projektet, és futassuk le a gradle segítségével a <code>ktlintCheck</code> taszkot! Figyeljük meg a kimenetet!</p>
<p>Szerencsére a hiányosságok jelentős részét automatizáltan is javíthatjuk a <code>ktlintFormat</code> taszk futtatásával.
Próbáljuk ki ezt is! Figyeljük meg, mely hibák azok, amelyeket nem tud automatikusan javítani a plugin.</p>
<p>Tegyük fel, hogy nem akarjuk ellenőrizni, hogy ne lehessenek wildcard importok, mert nem találjuk hasznosnak
ezt a szabályt. Konfiguráld át a <code>ktlint</code> plugint úgy, hogy ne alkalmazza ezt a szabályt! Keresd meg ennek
módját a <code>ktlint</code> dokumentációjában: <a href="https://pinterest.github.io/ktlint/latest/">https://pinterest.github.io/ktlint/latest/</a></p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (1 pont)</p>
<p>Készíts képernyőképet (f3.png) a linter által kiadott hibalistából, mellette a kapcsolódó gradle konfiguráció kódjával,
benne kommentként a Neptun-kódoddal!</p>
</div>
<h3 id="negyedik-feladat-offline-mukodes">Negyedik feladat: Offline működés<a class="headerlink" href="#negyedik-feladat-offline-mukodes" title="Permanent link">&para;</a></h3>
<p>Az alkalmazásunk még mindig csak akkor képes működni, ha a távoli backend éppen fut és elérhető. A feladat most
annak biztosítása, hogy a korábban már letöltött hírek lokálisan is elmentődjenek, és az alkalmazás offline is használható
legyen. Gondold át, hogyan lehetne ezt megoldani tiszta architektúrával, majd készítsd el a megoldást.</p>
<details class="info">
<summary>Segítség</summary>
<ul>
<li>Az adatrétegbeli <code>NewsEntity</code> osztály legyen entitás és készítsd el hozzá a Room alapú perzisztenciát!</li>
<li>Módosítsd a <code>NewsRepository</code>-t! Amikor új letöltésre érkezik hívás, akkor nézze meg, hogy elérhető-e a hálózat,
    és ha igen, akkor a hálózatról töltse le a híreket!</li>
<li>Ha nem elérhető a hálózat, akkor egyszerűen Roomból adja vissza a korábban már lementett adatokat.</li>
<li>A működést könnyen tesztelheted, ha az emulátoron lekapcsolod a wifi és a mobilnet elérést.</li>
<li>Amikor az alkalmazás offline működik, a hírek listájának tetején jelenjen meg egy tájékoztató szöveg, hogy
    nem a legfrissebb állapotot látjuk!</li>
</ul>
</details>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (1 pont)</p>
<p>Készíts képernyőképet (f4.png) a kapcsolódó kódrészletről, benne kommentként a Neptun-kódoddal,
mellette a futó alkalmazással, ahol látszik a tájékoztató szöveg, hogy hálózat híján a tárolt híreket látjuk.</p>
</div>
<h3 id="otodik-feladat-savszelesseg-optimalizacio">Ötödik feladat: Sávszélesség optimalizáció<a class="headerlink" href="#otodik-feladat-savszelesseg-optimalizacio" title="Permanent link">&para;</a></h3>
<p>Mobilon fontos takarékoskodni a sávszélességgel, hiszen a mobilnetes előfizetések tipikusan nem korlátlanok, valamint
egy indokolatlan letöltés az egyébként kritikusabb hálózati kommunikációt (pl. fontos értesítések) is lassíthatja.
Módosítsd úgy az alkalmazást - ha nem eleve így készítetted - hogy amikor hálózatról tölti le a híreket, akkor csak
a lokálisan legutóbb elmentett hír utániakat töltse le! A backend támogatja ezt a működést.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ (1 pont)</p>
<p>Készíts képernyőképet (f5.png) a kapcsolódó kódrészletről, ahol látszik a logika, ami meghatározza a backendnek
küldendő <code>after</code> paramétert, benne kommentként a Neptun-kódoddal.</p>
</div>

    <hr>
  <div class="md-source-file">
    <span class="md-source-file__fact"> <span class="md-icon" title="Utolsó frissítés"> <svg
          xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z">
          </path>
        </svg>
      </span>
      <span title="2025. március 14. 21:08:14">
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2025. március 14. 21:08:14"><span class="timeago" datetime="2025-03-14T21:08:14+01:00" locale="hu"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2025. március 14. 21:08:14">2025-03-14</span>
      </span>
    </span>

    

    <span class="md-source-file__fact">
      <span class="md-icon" title="Szerzők">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z">
          </path>
        </svg>
      </span>
      <span>Szerzők</span>
      <nav></nav>      
    </span>
  </div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Vissza a tetejére
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BME VIK AUT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "search.result.more.one": "1 tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.more.other": "# tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.term.missing": "\u00dcres", "select.version": "Verzi\u00f3v\u00e1lt\u00e1s"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>